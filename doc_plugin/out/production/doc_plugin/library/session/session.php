<?php

// Start of session v.

/**
*<div id="function.session-name" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_name</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_name</span> &mdash; <span class="dc-title">读取/设置会话名称</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-name-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">string</span> <span class="methodname"><strong>session_name</strong></span>     ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_name()</strong></span> 函数返回当前会话名称。    如果指定 <code class="parameter">name</code> 参数，    <span class="function"><strong>session_name()</strong></span> 函数会更新会话名称，    并返回 <em class="emphasis">原来的</em> 会话名称。   </p>   <p class="para">    如果使用 <code class="parameter">name</code> 指定了新字符串作为会话 cookie 的名字，    <span class="function"><strong>session_name()</strong></span> 函数会修改 HTTP 响应中的 cookie    （如果启用了 <em>session.transid</em>，还会输出会话 cookie 的内容）。    一旦在 HTTP 响应中发送了 cookie 的内容之后，    调用 <span class="function"><strong>session_name()</strong></span> 函数会产生错误。    所以，一定要在调用 <span class="function">{@link session_start()}</span> 函数之前    调用此函数。   </p>   <p class="para">    请求开始的时候，会话名称会被重置并且存储到    <em>session.name</em> 配置项。    因此，要想设置会话名称，那么对于每个请求，都需要在    调用 <span class="function">{@link session_start()}</span> 函数    之前调用 <span class="function"><strong>session_name()</strong></span> 函数。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-name-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">name</code></dt>       <dd>        <p class="para">        用在 cookie 或者 URL 中的会话名称，        例如：<em>PHPSESSID</em>。        只能使用字母和数字作为会话名称，建议尽可能的短一些，        并且是望文知意的名字（对于启用了 cookie 警告的用户来说，方便其判断是否要允许此 cookie）。        如果指定了 <code class="parameter">name</code> 参数，        那么当前会话也会使用指定值作为名称。       </p>       <p class="para">        <div class="warning"><strong class="warning">Warning</strong>         <p class="para">          会话名称至少需要一个字母，不能全部都使用数字，          否则，每次都会生成一个新的会话 ID。         </p>        </div>       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-name-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    返回当前会话名称。如果指定 <code class="parameter">name</code> 参数，那么此函数会更新会话名称，并且    返回 <em class="emphasis">原来的</em> 会话名称。   </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-name-examples">   <h3 class="title">范例</h3>   <p class="para">    <div class="example" id="example-5830">     <p><strong>Example #1 <span class="function"><strong>session_name()</strong></span> 示例</strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;设置会话名称为&nbsp;WebsiteID&nbsp;<br /><br /></span><span style="color: #9876AA">$previous_name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">session_name</span><span style="color: #007700">(</span><span style="color: #DD0000">"WebsiteID"</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;previous&nbsp;session&nbsp;name&nbsp;was&nbsp;</span><span style="color: #9876AA">$previous_name</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>  </div>     <div class="refsect1 changelog" id="refsect1-function.session-name-changelog">   <h3 class="title">更新日志</h3>   <p class="para">    <table class="doctable informaltable">           <thead>       <tr>        <th>版本</th>        <th>说明</th>       </tr>       </thead>       <tbody class="tbody">       <tr>        <td>7.2.0</td>        <td>         <span class="function"><strong>session_name()</strong></span> 函数会检查会话状态，         之前的版本仅仅检查 cookie 状态。         所以，旧版本的 PHP 允许你在调用 <span class="function">{@link session_start()}</span>         函数之后再调用 <span class="function"><strong>session_name()</strong></span> 函数，         新版本的 PHP 不再允许这样做了。        </td>       </tr>       </tbody>         </table>    </p>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-name-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.name" class="link">session.name</a>       配置指示     </li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return string the name of the current session.*/
function session_name ($name = null) {}

/**
*<div id="function.session-module-name" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_module_name</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_module_name</span> &mdash; <span class="dc-title">获取/设置会话模块名称</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-module-name-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">string</span> <span class="methodname"><strong>session_module_name</strong></span>     ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$module</code></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_module_name()</strong></span>     获取或设置会话模块名称。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-module-name-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">module</code></dt>       <dd>        <p class="para">        如果指定 <code class="parameter">module</code> 参数，则使用        指定值作为会话模块。       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-module-name-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    返回当前所用的会话模块名称。   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return string the name of the current session module.*/
function session_module_name ($module = null) {}

/**
*<div id="function.session-save-path" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_save_path</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_save_path</span> &mdash; <span class="dc-title">读取/设置当前会话的保存路径</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-save-path-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">string</span> <span class="methodname"><strong>session_save_path</strong></span>     ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$path</code></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_save_path()</strong></span>     返回当前会话的保存路径。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-save-path-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">path</code></dt>       <dd>        <p class="para">        指定会话数据保存的路径。        必须在调用 <span class="function">{@link session_start()}</span> 函数之前调用        <span class="function"><strong>session_save_path()</strong></span> 函数。       </p>       <p class="para">        <blockquote class="note"><p><strong class="note">Note</strong>:          <p class="para">          在某些操作系统上，建议使用可以高效处理          大量小尺寸文件的文件系统上的路径来保存会话数据。          例如，在 Linux 平台上，对于会话数据保存的工作而言，reiserfs 文件系统会比 ext2fs 文件系统能够提供更好的性能。         </p>        </p></blockquote>       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-save-path-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    返回保存会话数据的路径。   </p>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-save-path-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.save-path" class="link">session.save_path</a>      配置指示。     </li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return string the path of the current directory used for data storage.*/
function session_save_path ($path = null) {}

/**
*<div id="function.session-id" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_id</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_id</span> &mdash; <span class="dc-title">获取/设置当前会话 ID</span></p>   </div>  <div class="refsect1 description" id="refsect1-function.session-id-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">string</span> <span class="methodname"><strong>session_id</strong></span>     ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$id</code></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_id()</strong></span> 可以用来获取/设置    当前会话 ID。   </p>   <p class="para">    为了能够将会话 ID 很方便的附加到 URL 之后，    你可以使用常量 <strong><code>SID</code></strong>    获取以字符串格式表达的会话名称和 ID。    请参考 <a href="http://php.net/manual/zh/ref.session.php" class="link">会话处理</a>。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-id-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">id</code></dt>        <dd>         <p class="para">         如果指定了 <code class="parameter">id</code> 参数的值，         则使用指定值作为会话 ID。         必须在调用 <span class="function">{@link session_start()}</span> 函数之前调用          <span class="function"><strong>session_id()</strong></span> 函数。         不同的会话管理器对于会话 ID 中可以使用的字符有不同的限制。         例如文件会话管理器仅允许会话 ID 中使用以下字符：<em>a-z A-Z 0-9 , （逗号）和 - （减号）</em>        </p>        <blockquote class="note"><p><strong class="note">Note</strong>:          <span class="simpara">          如果使用 cookie 方式传送会话 ID，并且指定了 <code class="parameter">id</code> 参数，          在调用 <span class="function">{@link session_start()}</span>           之后都会向客户端发送新的 cookie，          无论当前的会话 ID 和新指定的会话 ID 是否相同。         </span>        </p></blockquote>       </dd>           </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-id-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    <span class="function"><strong>session_id()</strong></span> 返回当前会话ID。    如果当前没有会话，则返回空字符串（<em>&quot;&quot;</em>）。   </p>  </div>   <div class="refsect1 seealso" id="refsect1-function.session-id-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><span class="function">{@link session_regenerate_id()} - 使用新生成的会话 ID 更新现有会话 ID</span></li>     <li class="member"><span class="function">{@link session_start()} - 启动新会话或者重用现有会话</span></li>     <li class="member"><span class="function">{@link session_set_save_handler()} - 设置用户自定义会话存储函数</span></li>     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.save-handler" class="link">session.save_handler</a>     </li>    </ul>   </p>  </div>  <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return string <b>session_id</b> returns the session id for the current*/
function session_id ($id = null) {}

/**
*<div id="function.session-regenerate-id" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_regenerate_id</h1>   <p class="verinfo">(PHP 4 &gt;= 4.3.2, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_regenerate_id</span> &mdash; <span class="dc-title">    使用新生成的会话 ID 更新现有会话 ID   </span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-regenerate-id-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_regenerate_id</strong></span>     ([ <span class="methodparam"><span class="type">bool</span> <code class="parameter">$delete_old_session</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_regenerate_id()</strong></span>     在不修改当前会话中数据的前提下使用新的 ID 替换原有会话 ID。   </p>   <p class="para">    如果启用了 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.use-trans-sid" class="link">session.use_trans_sid</a> 选项，    那么必须在调用 <span class="function"><strong>session_regenerate_id()</strong></span> 函数之后开始进行输出工作，    否则会导致使用原有的会话 ID。   </p>   <div class="warning"><strong class="warning">Warning</strong>    <p class="para">     当前的 session_regenerate_id 并没有很好的处理在诸如移动数据网络和 WiFi 网络不稳定的场景。     因此，调用 session_regenerate_id 函数     可能会导致会话丢失。    </p>    <p class="para">     你不应该直接销毁旧的会话所关联的数据，     而是应该使用时间戳机制来控制对于已经失效的会话 ID 的访问。     否则，可能会在并发访问的场景下导致会话数据不一致、     会话丢失等情况，甚至可能引发客户端（浏览器）创建很多无用的会话 ID。     但是，另外一方面来讲，立即删除会话中的数据     可以防止会话劫持攻击。    </p>   </div>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-regenerate-id-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">delete_old_session</code></dt>        <dd>         <p class="para">         是否删除原 ID 所关联的会话存储文件。         如果你需要避免会话并发访问冲突，那么不应该立即删除会话中的数据。         如果你需要防止会话劫持攻击，那么可以立即删除会话数据。        </p>       </dd>           </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-regenerate-id-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 changelog" id="refsect1-function.session-regenerate-id-changelog">   <h3 class="title">更新日志</h3>   <p class="para">    <table class="doctable informaltable">           <thead>       <tr>        <th>版本</th>        <th>说明</th>       </tr>       </thead>       <tbody class="tbody">       <tr>        <td>7.0.0</td>        <td>         <span class="function"><strong>session_regenerate_id()</strong></span> 函数在关闭过期会话之前保存其中的数据。        </td>       </tr>        <tr>        <td>5.1.0</td>        <td>         新加 <code class="parameter">delete_old_session</code> 参数。        </td>       </tr>        <tr>        <td>4.3.3</td>        <td>         如果启用会话 cookie，         调用 <span class="function"><strong>session_regenerate_id()</strong></span> 函数         会使用新的会话 ID 来生成 cookie 并发送给客户端。        </td>       </tr>       </tbody>         </table>    </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-regenerate-id-examples">   <h3 class="title">范例</h3>   <p class="para">    <div class="example" id="example-5831">     <p><strong>Example #1 A <span class="function"><strong>session_regenerate_id()</strong></span> 示例</strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;注意：下列不是完整的代码，只是一个示例<br /><br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;检查会话被销毁的时间戳<br /></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">])<br />&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">]&nbsp;&lt;&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #9876AA">300</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;通常不会发生这种情况。如果发生，那么可能是由于不稳定的网络状况或者被攻击导致的<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;移除用户会话中的认证信息<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">remove_all_authentication_flag_from_active_sessions</span><span style="color: #007700">(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'userid'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;throw(new&nbsp;</span><span style="color: #9876AA">DestroyedSessionAccessException</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #9876AA">$old_sessionid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">session_id</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;设置会话销毁时间戳<br /></span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;从&nbsp;PHP&nbsp;7.0.0&nbsp;开始,&nbsp;session_regenerate_id()&nbsp;会自动保存会话数据<br /><br />//&nbsp;如果直接调用&nbsp;session_regenerate_id()&nbsp;函数可能会导致会话丢失的情况，<br />//&nbsp;参见下面的例程<br /></span><span style="color: #9876AA">session_regenerate_id</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;新创建的会话不需要时间戳<br /></span><span style="color: #007700">unset(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #9876AA">$new_sessionid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">session_id</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Old&nbsp;Session:&nbsp;</span><span style="color: #9876AA">$old_sessionid</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"New&nbsp;Session:&nbsp;</span><span style="color: #9876AA">$new_sessionid</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">print_r</span><span style="color: #007700">(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>      <p class="para">    当前的会话模块未能很好的处理在网络不稳定的时候导致会话丢失的场景。    你需要自行管理会话 ID 避免调用 session_regenerate_id 导致会话丢失。   </p>      <p class="para">    <div class="example" id="example-5832">     <p><strong>Example #2 Avoiding lost session by <span class="function"><strong>session_regenerate_id()</strong></span></strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;注意：下列不是完整的代码，只是一个示例<br />//&nbsp;my_session_start()&nbsp;和&nbsp;my_session_regenerate_id()<br />//&nbsp;函数可以避免在网络不稳定的情况下导致会话丢失的问题。<br />//&nbsp;并且还可以避免用户会话被攻击者利用<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #9876AA">my_session_start</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">]&nbsp;&lt;&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">()-</span><span style="color: #9876AA">300</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;通常不会发生这种情况。如果发生，那么可能是由于不稳定的网络状况或者被攻击导致的<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;移除用户会话中的认证信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">remove_all_authentication_flag_from_active_sessions</span><span style="color: #007700">(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'userid'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw(new&nbsp;</span><span style="color: #9876AA">DestroyedSessionAccessException</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'new_session_id'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;尚未完全过期，可能是由于网络不稳定引起的。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;尝试再次设置正确的会话&nbsp;ID&nbsp;cookie。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;注意：如果你需要移除认证标记，那么不要尝试再次设置会话&nbsp;ID。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_commit</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_id</span><span style="color: #007700">(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'new_session_id'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;现在有了新的会话&nbsp;ID&nbsp;了。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #9876AA">my_session_regenerate_id</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;如果由于不稳定的网络导致没有创建会话&nbsp;ID，<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;那么就创建一个<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$new_session_id&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">session_create_id</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'new_session_id'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #9876AA">$new_session_id</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;设置销毁时间戳<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;保存并关闭会话<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_commit</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;使用新的会话&nbsp;ID&nbsp;开始会话<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_id</span><span style="color: #007700">(</span><span style="color: #9876AA">$new_session_id</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.use_strict_mode'</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.use_strict_mode'</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;新的会话不需要这&nbsp;2&nbsp;个数据了<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">unset(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'new_session_id'</span><span style="color: #007700">]);<br />}<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>     </div>    <div class="refsect1 seealso" id="refsect1-function.session-regenerate-id-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><span class="function">{@link session_id()} - 获取/设置当前会话 ID</span></li>     <li class="member"><span class="function">{@link session_create_id()} - Create new session id</span></li>     <li class="member"><span class="function">{@link session_start()} - 启动新会话或者重用现有会话</span></li>     <li class="member"><span class="function">{@link session_destroy()} - 销毁一个会话中的全部数据</span></li>     <li class="member"><span class="function">{@link session_reset()} - Re-initialize session array with original values</span></li>     <li class="member"><span class="function">{@link session_name()} - 读取/设置会话名称</span></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool true on success or false on failure.*/
function session_regenerate_id ($delete_old_session = false) {}

/**
*<div id="function.session-register-shutdown" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_register_shutdown</h1>   <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7)</p><p class="refpurpose"><span class="refname">session_register_shutdown</span> &mdash; <span class="dc-title">关闭会话</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-register-shutdown-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>session_register_shutdown</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="para rdfs-comment">    将 <span class="function">{@link session_write_close()}</span> 函数注册为关闭会话的函数。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-register-shutdown-parameters">   <h3 class="title">参数</h3>   <p class="para">此函数没有参数。</p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-register-shutdown-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    没有返回值。   </p>  </div>    <div class="refsect1 errors" id="refsect1-function.session-register-shutdown-errors">   <h3 class="title">错误／异常</h3>   <p class="para">    如果函数调用失败，触发 <strong><code>E_WARNING</code></strong> 级别的错误。   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
*/
function session_register_shutdown  () {}

/**
*<div id="function.session-decode" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_decode</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_decode</span> &mdash; <span class="dc-title">解码会话数据</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-decode-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_decode</strong></span>     ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$data</code></span>    )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_decode()</strong></span> 对 <code class="parameter">$data</code>    参数中的已经序列化的会话数据进行解码，    并且使用解码后的数据填充 $_SESSION 超级全局变量。   </p>   <p class="para">    请注意，这里的反序列化方法不同于 <span class="function">{@link unserialize()}</span> 函数。    序列化方法是 PHP 内置的，并且可以通过    <a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a> 配置项进行修改。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-decode-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">data</code></dt>       <dd>        <p class="para">        编码后的数据       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-decode-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-decode-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><span class="function">{@link session_encode()} - 将当前会话数据编码为一个字符串</span></li>     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool true on success or false on failure.*/
function session_decode ($data) {}

/**
*<div id="function.session-register" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_register</h1>   <p class="verinfo">(PHP 4, PHP 5 &lt; 5.4.0)</p><p class="refpurpose"><span class="refname">session_register</span> &mdash; <span class="dc-title">Register one or more global variables with the current session</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-register-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_register</strong></span>     ( <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.pseudo-types.php#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$name</code></span>    [, <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.pseudo-types.php#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$...</code></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_register()</strong></span> accepts a variable number of    arguments, any of which can be either a string holding the name of a    variable or an array consisting of variable names or other arrays. For    each name, <span class="function"><strong>session_register()</strong></span> registers the global    variable with that name in the current session.   </p>   <p class="para">    You can also create a session variable by simply setting the    appropriate member of the <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> array.    <div class="informalexample">     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Use&nbsp;of&nbsp;session_register()&nbsp;is&nbsp;deprecated<br /></span><span style="color: #9876AA">$barney&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"A&nbsp;big&nbsp;purple&nbsp;dinosaur."</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">session_register</span><span style="color: #007700">(</span><span style="color: #DD0000">"barney"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Use&nbsp;of&nbsp;$_SESSION&nbsp;is&nbsp;preferred<br /></span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">"zim"</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"An&nbsp;invader&nbsp;from&nbsp;another&nbsp;planet."</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>   <p class="para">    If <span class="function">{@link session_start()}</span> was not called before this function    is called, an implicit call to <span class="function">{@link session_start()}</span> with no    parameters will be made.  <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> does not mimic    this behavior and requires <span class="function">{@link session_start()}</span> before use.   </p>   <div class="warning"><strong class="warning">Warning</strong><p class="simpara">本函数已自 PHP 5.3.0 起<em class="emphasis">废弃</em>并将自 PHP 5.4.0 起<em class="emphasis">移除</em>。</p></div>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-register-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">name</code></dt>       <dd>        <p class="para">        A string holding the name of a variable or an array consisting of        variable names or other arrays.       </p>      </dd>                 <dt> <code class="parameter">...</code></dt>       <dd>        <p class="para">       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-register-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 notes" id="refsect1-function.session-register-notes">   <h3 class="title">注释</h3>   <div class="caution"><strong class="caution">Caution</strong>    <p class="para">     If you want your script to work regardless of <a href="http://php.net/manual/zh/ini.core.php#ini.register-globals" class="link">register_globals</a>, you need to     instead use the <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> array as     <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> entries are automatically registered. If     your script uses <span class="function"><strong>session_register()</strong></span>, it will not work     in environments where the PHP directive <a href="http://php.net/manual/zh/ini.core.php#ini.register-globals" class="link">register_globals</a> is disabled.    </p>   </div>   <blockquote class="note"><p><strong class="note">Note</strong>: <strong>register_globals 重要说明：</strong><br /> <p class="para">自 PHP 4.2.0 起，PHP 指令  <a href="http://php.net/manual/zh/ini.core.php#ini.register-globals" class="link">register_globals</a> 的默认值为 <em class="emphasis">off</em>。PHP  社区鼓励开发者不要依赖于此指令, 用其他手段替代，例如<a href="http://php.net/manual/zh/language.variables.predefined.php" class="link">superglobals</a>。</p></p></blockquote>   <div class="caution"><strong class="caution">Caution</strong>    <p class="para">     This registers a <em class="emphasis">global</em> variable. If you want to     register a session variable from within a function, you need to make sure     to make it global using the <a href="http://php.net/manual/zh/language.variables.scope.php" class="link"><strong class="command">global</strong></a>     keyword or the <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.globals.php" class="classname">$GLOBALS[]</a></var></var> array, or use the special     session arrays as noted below.    </p>   </div>   <div class="caution"><strong class="caution">Caution</strong>    <p class="para">     If you are using <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var>, do not use     <span class="function"><strong>session_register()</strong></span>,     <span class="function">{@link session_is_registered()}</span>, and     <span class="function">{@link session_unregister()}</span>.    </p>   </div>   <blockquote class="note"><p><strong class="note">Note</strong>:     <p class="para">     It is currently impossible to register resource variables in a session.     For example, you cannot create a connection to a database and store the     connection id as a session variable and expect the connection to still be     valid the next time the session is restored.  PHP functions that return a     resource are identified by having a return type of     <em>resource</em> in their function definition.  A list of     functions that return resources are available in the <a href="http://php.net/manual/zh/resource.php" class="link">resource types</a> appendix.    </p>    <p class="para">     If <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> is used, assign values to     <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var>. For example: $_SESSION[&#039;var&#039;] = &#039;ABC&#039;;    </p>   </p></blockquote>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-register-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><span class="function">{@link session_is_registered()} - 检查变量是否在会话中已经注册</span></li>     <li class="member"><span class="function">{@link session_unregister()} - Unregister a global variable from the current session</span></li>     <li class="member"><var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool true on success or false on failure.*/
function session_register ($name, $_ = null) {}

/**
*<div id="function.session-unregister" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_unregister</h1>   <p class="verinfo">(PHP 4, PHP 5 &lt; 5.4.0)</p><p class="refpurpose"><span class="refname">session_unregister</span> &mdash; <span class="dc-title">Unregister a global variable from the current session</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-unregister-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_unregister</strong></span>     ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>    )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_unregister()</strong></span> unregisters the global variable    named <code class="parameter">name</code> from the current session.   </p>   <div class="warning"><strong class="warning">Warning</strong><p class="simpara">本函数已自 PHP 5.3.0 起<em class="emphasis">废弃</em>并将自 PHP 5.4.0 起<em class="emphasis">移除</em>。</p></div>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-unregister-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">name</code></dt>       <dd>        <p class="para">        The variable name.       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-unregister-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 notes" id="refsect1-function.session-unregister-notes">   <h3 class="title">注释</h3>   <blockquote class="note"><p><strong class="note">Note</strong>:     <p class="para">     If <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> is used, use <span class="function">{@link unset()}</span> to     unregister a session variable. Do not <span class="function">{@link unset()}</span>     <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> itself as this will disable the special     function of the <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> superglobal.    </p>   </p></blockquote>   <div class="caution"><strong class="caution">Caution</strong>    <p class="para">     This function does not unset the corresponding global variable for     <code class="parameter">name</code>, it only prevents the variable from being     saved as part of the session. You must call <span class="function">{@link unset()}</span>     to remove the corresponding global variable.    </p>   </div>   <div class="caution"><strong class="caution">Caution</strong>    <p class="para">     If you are using <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> (or     <var class="varname"><var class="varname">$HTTP_SESSION_VARS</var></var>), do not use     <span class="function">{@link session_register()}</span>,     <span class="function">{@link session_is_registered()}</span> and     <span class="function"><strong>session_unregister()</strong></span>.    </p>   </div>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool true on success or false on failure.*/
function session_unregister ($name) {}

/**
*<div id="function.session-is-registered" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_is_registered</h1>   <p class="verinfo">(PHP 4, PHP 5 &lt; 5.4.0)</p><p class="refpurpose"><span class="refname">session_is_registered</span> &mdash; <span class="dc-title">检查变量是否在会话中已经注册</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-is-registered-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_is_registered</strong></span>     ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>    )</div>    <p class="para rdfs-comment">    检查变量是否已经在会话中注册。   </p>   <div class="warning"><strong class="warning">Warning</strong><p class="simpara">本函数已自 PHP 5.3.0 起<em class="emphasis">废弃</em>并将自 PHP 5.4.0 起<em class="emphasis">移除</em>。</p></div>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-is-registered-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">name</code></dt>       <dd>        <p class="para">        变量名称。       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-is-registered-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    <span class="function"><strong>session_is_registered()</strong></span> 返回 <strong><code>TRUE</code></strong> 则表示 <code class="parameter">name</code> 变量已经在当前会话中注册使用，否则返回 <strong><code>FALSE</code></strong> 。   </p>  </div>    <div class="refsect1 notes" id="refsect1-function.session-is-registered-notes">   <h3 class="title">注释</h3>   <blockquote class="note"><p><strong class="note">Note</strong>:     <p class="para">     如果使用 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> (或 <var class="varname"><var class="varname">$HTTP_SESSION_VARS</var></var> for PHP 4.0.6 or less),可以使用 <span class="function">{@link isset()}</span> 检查变量是否在 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> 中注册使用。    </p>   </p></blockquote>   <div class="caution"><strong class="caution">Caution</strong>    <p class="para">     如果使用 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var>     (或 <var class="varname"><var class="varname">$HTTP_SESSION_VARS</var></var>), 则不要使用     <span class="function">{@link session_register()}</span>,     <span class="function"><strong>session_is_registered()</strong></span> 和     <span class="function">{@link session_unregister()}</span>.    </p>   </div>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool <b>session_is_registered</b> returns true if there is a*/
function session_is_registered ($name) {}

/**
*<div id="function.session-encode" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_encode</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_encode</span> &mdash; <span class="dc-title">将当前会话数据编码为一个字符串</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-encode-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">string</span> <span class="methodname"><strong>session_encode</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_encode()</strong></span>    返回一个序列化后的字符串，包含被编码的、储存于 $_SESSION 超全局变量中的当前会话数据。   </p>   <p class="para">    请注意，序列方法 和 <span class="function">{@link serialize()}</span> 是不一样的。    该序列方法是内置于 PHP 的，能够通过设置 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a> 来设置。   </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-encode-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    返回当前会话编码后的内容。   </p>  </div>    <div class="refsect1 notes" id="refsect1-function.session-encode-notes">   <h3 class="title">注释</h3>   <div class="warning"><strong class="warning">Warning</strong>    <p class="para">     在调用 <span class="function">{@link session_decode()}</span> 之前必须先调用 <span class="function">{@link session_start()}</span>。    </p>   </div>  </div>      <div class="refsect1 seealso" id="refsect1-function.session-encode-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><span class="function">{@link session_decode()} - 解码会话数据</span></li>     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return string the contents of the current session encoded.*/
function session_encode () {}

/**
*<div id="function.session-start" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_start</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_start</span> &mdash; <span class="dc-title">启动新会话或者重用现有会话</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-start-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_start</strong></span>     ([ <span class="methodparam"><span class="type">array</span> <code class="parameter">$options</code><span class="initializer"> = array()</span></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_start()</strong></span> 会创建新会话或者重用现有会话。    如果通过 GET 或者 POST 方式，或者使用 cookie 提交了会话 ID，    则会重用现有会话。   </p>   <p class="para">    当会话自动开始或者通过 <span class="function"><strong>session_start()</strong></span> 手动开始的时候，    PHP 内部会调用会话管理器的 open 和 read 回调函数。    会话管理器可能是 PHP 默认的，    也可能是扩展提供的（SQLite 或者 Memcached 扩展），    也可能是通过 <span class="function">{@link session_set_save_handler()}</span> 设定的用户自定义会话管理器。    通过 read 回调函数返回的现有会话数据（使用特殊的序列化格式存储），    PHP 会自动反序列化数据并且填充 $_SESSION 超级全局变量。   </p>   <p class="para">    要想使用命名会话，请在调用 <span class="function"><strong>session_start()</strong></span> 函数    之前调用 <span class="function">{@link session_name()}</span> 函数。   </p>   <p class="para">    如果启用了 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.use-trans-sid" class="link">session.use_trans_sid</a> 选项，    <span class="function"><strong>session_start()</strong></span> 函数会注册一个内部输出管理器，    该输出管理器完成 URL 重写的工作。   </p>   <p class="para">    如果用户联合使用 <span class="function">{@link ob_start()}</span>     和 <em>ob_gzhandler</em> 函数，    那么函数的调用顺序会影响输出结果。    例如，必须在开始会话之前调用 <em>ob_gzhandler</em> 函数完成注册。   </p>  </div>     <div class="refsect1 parameters" id="refsect1-function.session-start-parameters">   <h3 class="title">参数</h3>   <dl>          <dt> <code class="parameter">options</code></dt>      <dd>       <p class="para">       此参数是一个关联数组，如果提供，那么会用其中的项目覆盖 <a href="http://php.net/manual/zh/session.configuration.php" class="link">会话配置指示</a> 中的配置项。此数组中的键无需包含 <em>session.</em> 前缀。      </p>      <p class="para">       除了常规的会话配置指示项，       还可以在此数组中包含 <em>read_and_close</em>       选项。如果将此选项的值设置为 <strong><code>TRUE</code></strong>，       那么会话文件会在读取完毕之后马上关闭，       因此，可以在会话数据没有变动的时候，避免不必要的文件锁。      </p>     </dd>        </dl>   </div>     <div class="refsect1 returnvalues" id="refsect1-function.session-start-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功开始会话返回 <strong><code>TRUE</code></strong> ，反之返回 <strong><code>FALSE</code></strong>   </p>  </div>    <div class="refsect1 changelog" id="refsect1-function.session-start-changelog">   <h3 class="title">更新日志</h3>   <p class="para">    <table class="doctable informaltable">           <thead>       <tr>        <th>版本</th>        <th>说明</th>       </tr>       </thead>       <tbody class="tbody">       <tr>        <td>7.1.0</td>        <td>         当 <span class="function"><strong>session_start()</strong></span> 执行失败，         无法开始一个会话的时候，会返回 <strong><code>FALSE</code></strong>，         并且不会初始化超级变量 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var>。        </td>       </tr>        <tr>        <td>7.0.0</td>        <td>         新加 <code class="parameter">options</code> 参数。        </td>       </tr>        <tr>        <td>5.3.0</td>        <td>         如果函数调用失败返回 <strong><code>FALSE</code></strong>，         之前版本返回了 <strong><code>TRUE</code></strong>。        </td>       </tr>        <tr>        <td>4.3.3</td>        <td>         在 PHP 4.3.3 中，         会话开始之后调用 <span class="function"><strong>session_start()</strong></span> 函数         会引发 <strong><code>E_NOTICE</code></strong> 级别的错误，         并且第二次请求开始会话的调用会被忽略。        </td>       </tr>       </tbody>         </table>    </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-start-examples">   <h3 class="title">范例</h3>   <div class="refsect2 unknown-examplet" id="refsect2-function.session-start-unknown-examplet">   <h4 class="title">基本的会话示例</h4>   <p class="para">    <div class="example" id="example-5835">     <p><strong>Example #1 <var class="filename">page1.php</var></strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;page1.php<br /><br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Welcome&nbsp;to&nbsp;page&nbsp;#1'</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'favcolor'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'green'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'animal'</span><span style="color: #007700">]&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #DD0000">'cat'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'time'</span><span style="color: #007700">]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;如果使用&nbsp;cookie&nbsp;方式传送会话&nbsp;ID<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;&lt;a&nbsp;href="page2.php"&gt;page&nbsp;2&lt;/a&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;如果不是使用&nbsp;cookie&nbsp;方式传送会话&nbsp;ID，则使用&nbsp;URL&nbsp;改写的方式传送会话&nbsp;ID<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;&lt;a&nbsp;href="page2.php?'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #9876AA">SID&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'"&gt;page&nbsp;2&lt;/a&gt;'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>   <p class="para">    请求 <var class="filename">page1.php</var> 页面之后，    第二个页面 <var class="filename">page2.php</var>     会包含会话数据。    请查阅 <a href="http://php.net/manual/zh/ref.session.php" class="link">会话参考</a>    获取更多关于 <a href="http://php.net/manual/zh/session.idpassing.php" class="link">会话 ID 传送</a>的信息，    在该参考页面中有关于常量 <strong><code>SID</code></strong> 的详细说明。   </p>   <p class="para">    <div class="example" id="example-5836">     <p><strong>Example #2 <var class="filename">page2.php</var></strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;page2.php<br /><br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Welcome&nbsp;to&nbsp;page&nbsp;#2&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'favcolor'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;green<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'animal'</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;cat<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #9876AA">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y&nbsp;m&nbsp;d&nbsp;H:i:s'</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'time'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//&nbsp;类似&nbsp;page1.php&nbsp;中的代码，你可能需要在这里处理使用&nbsp;SID&nbsp;的场景<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;&lt;a&nbsp;href="page1.php"&gt;page&nbsp;1&lt;/a&gt;'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>  </div>   <div class="refsect2 unknown-unknown-exampleu" id="refsect2-function.session-start-unknown-unknown-exampleu">    <h4 class="title">调用 <span class="function"><strong>session_start()</strong></span> 的时候指定选项</h4>     <div class="example" id="example-5837">     <p><strong>Example #3 覆盖 Cookie 超时时间设定</strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;设置&nbsp;cookie&nbsp;的有效时间为&nbsp;1&nbsp;天<br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cookie_lifetime'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #9876AA">86400</span><span style="color: #007700">,<br />]);<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>     <div class="example" id="example-5838">     <p><strong>Example #4 读取会话之后立即关闭会话存储文件</strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;如果确定不修改会话中的数据，<br />//&nbsp;我们可以在会话文件读取完毕之后立即关闭它<br />//&nbsp;来避免由于给会话文件加锁导致其他页面阻塞<br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cookie_lifetime'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #9876AA">86400</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'read_and_close'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">,<br />]);</span> </span> </code></div>     </div>     </div>   </div>      </div>    <div class="refsect1 notes" id="refsect1-function.session-start-notes">   <h3 class="title">注释</h3>   <blockquote class="note"><p><strong class="note">Note</strong>:     <p class="para">     要使用基于 cookie 的会话，     必须在输出开始之前调用 <span class="function"><strong>session_start()</strong></span> 函数。    </p>   </p></blockquote>   <blockquote class="note"><p><strong class="note">Note</strong>:     <p class="para">     建议使用 <a href="http://php.net/manual/zh/zlib.configuration.php#ini.zlib.output-compression" class="link">zlib.output_compression</a>     来替代 <span class="function">{@link ob_gzhandler()}</span>。    </p>   </p></blockquote>   <blockquote class="note"><p><strong class="note">Note</strong>:     <p class="para">     根据配置不同，本函数会发送几个 HTTP 响应头。     参考 <span class="function">{@link session_cache_limiter()}</span>     来自定义 HTTP 响应头。    </p>   </p></blockquote>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-start-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var></li>     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.auto-start" class="link">session.auto_start</a>      配置指示     </li>     <li class="member"><span class="function">{@link session_id()} - 获取/设置当前会话 ID</span></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool This function returns true if a session was successfully started,*/
function session_start ($options = []) {}

/**
*<div id="function.session-create-id" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_create_id</h1>   <p class="verinfo">(PHP 7 &gt;= 7.1.0)</p><p class="refpurpose"><span class="refname">session_create_id</span> &mdash; <span class="dc-title">Create new session id</span></p>   </div>  <div class="refsect1 description" id="refsect1-function.session-create-id-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">string</span> <span class="methodname"><strong>session_create_id</strong></span>     ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$prefix</code></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_create_id()</strong></span> is used to create new    session id for the current session. It returns collision free    session id.   </p>   <p class="para">    If session is not active, collision check is omitted.   </p>   <p class="para">    Session ID is created according to php.ini settings.   </p>   <p class="para">    It is important to use the same user ID of your web server for GC    task script. Otherwise, you may have permission problems especially    with files save handler.   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-create-id-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">prefix</code></dt>        <dd>         <p class="para">         If <code class="parameter">prefix</code> is specified, new session id         is prefixed by <code class="parameter">prefix</code>. Not all         characters are allowed within the session id.  Characters in         the range <em>a-z A-Z 0-9 , (comma) and -         (minus)</em> are allowed.        </p>        </dd>           </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-create-id-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    <span class="function"><strong>session_create_id()</strong></span> returns new collision free    session id for the current session. If it is used without active    session, it omits collision check.   </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-create-id-examples">   <h3 class="title">范例</h3>   <p class="para">    <div class="example" id="example-5826">     <p><strong>Example #1 <span class="function"><strong>session_create_id()</strong></span> example with <span class="function">{@link session_regenerate_id()}</span></strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;My&nbsp;session&nbsp;start&nbsp;function&nbsp;support&nbsp;timestamp&nbsp;management<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #9876AA">my_session_start</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Do&nbsp;not&nbsp;allow&nbsp;to&nbsp;use&nbsp;too&nbsp;old&nbsp;session&nbsp;ID<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!empty(</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'deleted_time'</span><span style="color: #007700">])&nbsp;&amp;&amp;&nbsp;</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'deleted_time'</span><span style="color: #007700">]&nbsp;&lt;&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #9876AA">180</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_destroy</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;My&nbsp;session&nbsp;regenerate&nbsp;id&nbsp;function<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #9876AA">my_session_regenerate_id</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Call&nbsp;session_create_id()&nbsp;while&nbsp;session&nbsp;is&nbsp;active&nbsp;to&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;make&nbsp;sure&nbsp;collision&nbsp;free.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #9876AA">session_status</span><span style="color: #007700">()&nbsp;!=&nbsp;</span><span style="color: #9876AA">PHP_SESSION_ACTIVE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;WARNING:&nbsp;Never&nbsp;use&nbsp;confidential&nbsp;strings&nbsp;for&nbsp;prefix!<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$newid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">session_create_id</span><span style="color: #007700">(</span><span style="color: #DD0000">'myprefix-'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Set&nbsp;deleted&nbsp;timestamp.&nbsp;Session&nbsp;data&nbsp;must&nbsp;not&nbsp;be&nbsp;deleted&nbsp;immediately&nbsp;for&nbsp;reasons.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'deleted_time'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Finish&nbsp;session<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_commit</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Make&nbsp;sure&nbsp;to&nbsp;accept&nbsp;user&nbsp;defined&nbsp;session&nbsp;ID<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;NOTE:&nbsp;You&nbsp;must&nbsp;enable&nbsp;use_strict_mode&nbsp;for&nbsp;normal&nbsp;operations.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.use_strict_mode'</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Set&nbsp;new&nbsp;custome&nbsp;session&nbsp;ID<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_id</span><span style="color: #007700">(</span><span style="color: #9876AA">$newid</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Start&nbsp;with&nbsp;custome&nbsp;session&nbsp;ID<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Make&nbsp;sure&nbsp;use_strict_mode&nbsp;is&nbsp;enabled.<br />//&nbsp;use_strict_mode&nbsp;is&nbsp;mandatory&nbsp;for&nbsp;security&nbsp;reasons.<br /></span><span style="color: #9876AA">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.use_strict_mode'</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">1</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">my_session_start</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Session&nbsp;ID&nbsp;must&nbsp;be&nbsp;regenerated&nbsp;when<br />//&nbsp;&nbsp;-&nbsp;User&nbsp;logged&nbsp;in<br />//&nbsp;&nbsp;-&nbsp;User&nbsp;logged&nbsp;out<br />//&nbsp;&nbsp;-&nbsp;Certain&nbsp;period&nbsp;has&nbsp;passed<br /></span><span style="color: #9876AA">my_session_regenerate_id</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Write&nbsp;useful&nbsp;codes<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-create-id-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><span class="function">{@link session_regenerate_id()} - 使用新生成的会话 ID 更新现有会话 ID</span></li>     <li class="member"><span class="function">{@link session_start()} - 启动新会话或者重用现有会话</span></li>     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.use-strict-mode" class="link">session.use_strict_mode</a></li>     <li class="member"><span class="methodname">{@link SessionHandler::create_sid()} - Return a new session ID</span></li>    </ul>   </p>  </div>  <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return string new collision free session id for the current session.*/
function session_create_id($prefix) {}

/**
*<div id="function.session-gc" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_gc</h1>   <p class="verinfo">(PHP 7 &gt;= 7.1.0)</p><p class="refpurpose"><span class="refname">session_gc</span> &mdash; <span class="dc-title">Perform session data garbage collection</span></p>   </div>  <div class="refsect1 description" id="refsect1-function.session-gc-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">int</span> <span class="methodname"><strong>session_gc</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_gc()</strong></span> is used to perform session data    GC(garbage collection). PHP does probability based session GC by    default.   </p>   <p class="para">    Probability based GC works somewhat but it has few problems. 1) Low    traffic sites&#039; session data may not be deleted within the preferred    duration. 2) High traffic sites&#039; GC may be too frequent GC. 3) GC is    performed on the user&#039;s request and the user will experience a GC    delay.   </p>   <p class="para">    Therefore, it is recommended to execute GC periodically for    production systems using, e.g., &quot;cron&quot; for UNIX-like systems.    Make sure to disable probability based GC by setting     <a href="http://php.net/manual/zh/session.configuration.php#ini.session.gc-probability" class="link">session.gc_probability</a>     to 0.   </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-gc-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    <span class="function"><strong>session_gc()</strong></span> returns number of deleted session    data for success, <strong><code>FALSE</code></strong> for failure.   </p>   <p class="para">    Old save handlers do not return number of deleted session data, but     only success/failure flag. If this is the case, number of deleted    session data became 1 regardless of actually deleted data.   </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-gc-examples">   <h3 class="title">范例</h3>   <p class="para">    <div class="example" id="example-5828">     <p><strong>Example #1 <span class="function"><strong>session_gc()</strong></span> example for task managers like cron</strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Note:&nbsp;This&nbsp;script&nbsp;should&nbsp;be&nbsp;executed&nbsp;by&nbsp;the&nbsp;same&nbsp;user&nbsp;of&nbsp;web&nbsp;server&nbsp;process.<br /><br />//&nbsp;Need&nbsp;active&nbsp;session&nbsp;to&nbsp;initialize&nbsp;session&nbsp;data&nbsp;storage&nbsp;access.<br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Executes&nbsp;GC&nbsp;immediately<br /></span><span style="color: #9876AA">session_gc</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Clean&nbsp;up&nbsp;session&nbsp;ID&nbsp;created&nbsp;by&nbsp;session_gc()<br /></span><span style="color: #9876AA">session_destroy</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>    <div class="example" id="example-5829">     <p><strong>Example #2 <span class="function"><strong>session_gc()</strong></span> example for user accessible script</strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Note:&nbsp;session_gc()&nbsp;is&nbsp;recommended&nbsp;to&nbsp;be&nbsp;used&nbsp;by&nbsp;task&nbsp;manager&nbsp;script,&nbsp;but<br />//&nbsp;it&nbsp;may&nbsp;be&nbsp;used&nbsp;as&nbsp;follows.<br /><br />//&nbsp;Used&nbsp;for&nbsp;last&nbsp;GC&nbsp;time&nbsp;check<br /></span><span style="color: #9876AA">$gc_time&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/tmp/php_session_last_gc'</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">$gc_period&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">1800</span><span style="color: #007700">;<br /><br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">//&nbsp;Execute&nbsp;GC&nbsp;only&nbsp;when&nbsp;GC&nbsp;period&nbsp;elapsed.&nbsp;<br />//&nbsp;i.e.&nbsp;Calling&nbsp;session_gc()&nbsp;every&nbsp;request&nbsp;is&nbsp;waste&nbsp;of&nbsp;resources.&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #9876AA">file_exists</span><span style="color: #007700">(</span><span style="color: #9876AA">$gc_time</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #9876AA">filemtime</span><span style="color: #007700">(</span><span style="color: #9876AA">$gc_time</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #9876AA">$gc_period</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">session_gc</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">touch</span><span style="color: #007700">(</span><span style="color: #9876AA">$gc_time</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">touch</span><span style="color: #007700">(</span><span style="color: #9876AA">$gc_time</span><span style="color: #007700">);<br />}<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-gc-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><span class="function">{@link session_start()} - 启动新会话或者重用现有会话</span></li>     <li class="member"><span class="function">{@link session_destroy()} - 销毁一个会话中的全部数据</span></li>     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.gc-probability" class="link">session.gc_probability</a></li>    </ul>   </p>  </div>  <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return int number of deleted session data for success, FALSE for failure.*/
function session_gc() {}

/**
*<div id="function.session-destroy" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_destroy</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_destroy</span> &mdash; <span class="dc-title">销毁一个会话中的全部数据</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-destroy-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_destroy</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="simpara">    <span class="function"><strong>session_destroy()</strong></span> 销毁当前会话中的全部数据，    但是不会重置当前会话所关联的全局变量，    也不会重置会话 cookie。    如果需要再次使用会话变量，    必须重新调用 <span class="function">{@link session_start()}</span> 函数。   </p>   <blockquote class="note"><p><strong class="note">Note</strong>:     <span class="simpara">     通常情况下，在你的代码中不必调用 <span class="function"><strong>session_destroy()</strong></span> 函数，     可以直接清除 $_SESSION 数组中的数据来实现会话数据清理。    </span>   </p></blockquote>   <p class="para">    为了彻底销毁会话，必须同时重置会话 ID。    如果是通过 cookie 方式传送会话 ID 的，那么同时也需要    调用 <span class="function">{@link setcookie()}</span> 函数来    删除客户端的会话 cookie。   </p>   <p class="para">    当启用了 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.use-strict-mode" class="link">session.use_strict_mode</a> 配置项的时候，你不需要删除过期会话 ID 对应的 cookie，    因为会话模块已经不再接受携带过期会话 ID 的 cookie 了，    然后它会生成一个新的会话 ID cookie。    建议所有的站点都启用 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.use-strict-mode" class="link">session.use_strict_mode</a> 配置项。   </p>   <div class="warning"><strong class="warning">Warning</strong>    <p class="para">     过早的删除会话中的数据可能会导致不可预期的结果。     例如，当存在从 JavaScript 或者 URL 链接过来的并发请求的时候，     某一个请求删除了会话中的数据，会导致其他的并发请求无法使用会话数据。    </p>    <p class="para">     虽然当前的会话处理模块不会接受为空的会话 ID，     但是由于客户端（浏览器）的处理方式，     立即删除会话中的数据可能会导致生成为空的会话 cookie，     进而导致客户端生成很多不必要的会话 ID cookie。    </p>    <p class="para">     为了避免这种情况的发生，你需要在 $_SESSION 中设置一个时间戳，     在这个时间戳之后的对于会话的访问都将被拒绝。     或者，确保你的应用中不存在并发请求。     这个规则同样适用于 <span class="function">{@link session_regenerate_id()}</span>。 <span class="function">{@link session_regenerate_id()}</span> also.    </p>   </div>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-destroy-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-destroy-examples">   <h3 class="title">范例</h3>   <p class="para">    <div class="example" id="example-5827">     <p><strong>Example #1 销毁会话数据以及 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var></strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;初始化会话。<br />//&nbsp;如果要使用会话，别忘了现在就调用：<br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;重置会话中的所有变量<br /></span><span style="color: #9876AA">$_SESSION&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /><br /></span><span style="color: #FF8000">//&nbsp;如果要清理的更彻底，那么同时删除会话&nbsp;cookie<br />//&nbsp;注意：这样不但销毁了会话中的数据，还同时销毁了会话本身<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #9876AA">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"session.use_cookies"</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$params&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">session_get_cookie_params</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">setcookie</span><span style="color: #007700">(</span><span style="color: #9876AA">session_name</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #9876AA">42000</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$params</span><span style="color: #007700">[</span><span style="color: #DD0000">"path"</span><span style="color: #007700">],&nbsp;</span><span style="color: #9876AA">$params</span><span style="color: #007700">[</span><span style="color: #DD0000">"domain"</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$params</span><span style="color: #007700">[</span><span style="color: #DD0000">"secure"</span><span style="color: #007700">],&nbsp;</span><span style="color: #9876AA">$params</span><span style="color: #007700">[</span><span style="color: #DD0000">"httponly"</span><span style="color: #007700">]<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;最后，销毁会话<br /></span><span style="color: #9876AA">session_destroy</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>  </div>    <div class="refsect1 notes" id="refsect1-function.session-destroy-notes">   <h3 class="title">注释</h3>   <blockquote class="note"><p><strong class="note">Note</strong>:     <p class="para">     对于旧版本中不使用 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> 的代码，     仅能使用 <span class="function">{@link session_unset()}</span> 来完成会话销毁工作。    </p>   </p></blockquote>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-destroy-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.use-strict-mode" class="link">session.use_strict_mode</a></li>     <li class="member"><span class="function">{@link session_reset()} - Re-initialize session array with original values</span></li>     <li class="member"><span class="function">{@link session_regenerate_id()} - 使用新生成的会话 ID 更新现有会话 ID</span></li>     <li class="member"><span class="function">{@link unset()} - 释放给定的变量</span></li>     <li class="member"><span class="function">{@link setcookie()} - 发送 Cookie</span></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool true on success or false on failure.*/
function session_destroy () {}

/**
*<div id="function.session-unset" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_unset</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_unset</span> &mdash; <span class="dc-title">释放所有的会话变量</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-unset-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>session_unset</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_unset()</strong></span> 会释放当前会话注册的所有会话变量。   </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-unset-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    没有返回值。   </p>  </div>    <div class="refsect1 notes" id="refsect1-function.session-unset-notes">   <h3 class="title">注释</h3>   <blockquote class="note"><p><strong class="note">Note</strong>:     <p class="para">     如果使用的是 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> (或者PHP 4.0.6或更早版本的 <var class="varname"><var class="varname">$HTTP_SESSION_VARS</var></var>     ) ，请使用 <span class="function">{@link unset()}</span> 去     注销会话变量，即     <em>unset ($_SESSION[&#039;varname&#039;]);</em>.    </p>   </p></blockquote>   <div class="caution"><strong class="caution">Caution</strong>    <p class="para">     请不要使用<em>unset($_SESSION)</em>来释放整个<var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var>，     因为它将会禁用通过全局<var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var>去注册会话变量    </p>   </div>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return void*/
function session_unset () {}

/**
*<div id="function.session-set-save-handler" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_set_save_handler</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_set_save_handler</span> &mdash; <span class="dc-title">设置用户自定义会话存储函数</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-set-save-handler-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_set_save_handler</strong></span>     ( <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$open</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$close</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$read</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$write</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$destroy</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$gc</code></span>    [, <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$create_sid</code></span>    [, <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$validate_sid</code></span>    [, <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$update_timestamp</code></span>   ]]] )</div>    <p class="para rdfs-comment">    自 PHP 5.4 开始，可以使用下面的方式来注册自定义会话存储函数：   </p>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_set_save_handler</strong></span>     ( <span class="methodparam"><span class="type">object</span> <code class="parameter">$sessionhandler</code></span>    [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$register_shutdown</code><span class="initializer"> = <strong><code>TRUE</code></strong></span></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_set_save_handler()</strong></span> 设置用户自定义    会话存储函数。    如果想使用 PHP 内置的会话存储机制之外的方式，    可以使用本函数。    例如，可以自定义会话存储函数来将会话数据存储到数据库。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-set-save-handler-parameters">   <h3 class="title">参数</h3>   <p class="para">    本函数有 2 种原型：    <dl>            <dt> <code class="parameter">sessionhandler</code></dt>       <dd>        <p class="para">        实现了        <span class="interfacename"><a href="http://php.net/manual/zh/class.sessionhandlerinterface.php" class="interfacename">SessionHandlerInterface</a></span>，        <span class="interfacename"><strong class="interfacename">SessionIdInterface</strong></span> 和/或        <span class="interfacename"><strong class="interfacename">SessionUpdateTimestampHandlerInterface</strong></span>        接口的对象，        例如 <a href="http://php.net/manual/zh/class.sessionhandler.php" class="classname">SessionHandler</a>。        自 PHP 5.4 之后可以使用。       </p>      </dd>                 <dt> <code class="parameter">register_shutdown</code></dt>       <dd>        <p class="para">        将函数 <span class="function">{@link session_write_close()}</span> 注册为        <span class="function">{@link register_shutdown_function()}</span> 函数。       </p>      </dd>          </dl>      或者     <dl>            <dt> <code class="parameter">open(string $savePath, string $sessionName)</code></dt>       <dd>        <p class="para">        open 回调函数类似于类的构造函数，        在会话打开的时候会被调用。        这是自动开始会话或者通过调用 <span class="function">{@link session_start()}</span> 手动开始会话        之后第一个被调用的回调函数。        此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。       </p>      </dd>                 <dt> <code class="parameter">close()</code></dt>       <dd>        <p class="para">        close 回调函数类似于类的析构函数。        在 write 回调函数调用之后调用。        当调用 <span class="function">{@link session_write_close()}</span> 函数之后，也会调用 close 回调函数。        此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。       </p>      </dd>                 <dt> <code class="parameter">read(string $sessionId)</code></dt>       <dd>        <p class="para">        如果会话中有数据，read 回调函数必须返回将会话数据编码（序列化）后的字符串。        如果会话中没有数据，read 回调函数返回空字符串。       </p>       <p class="para">        在自动开始会话或者通过调用        <span class="function">{@link session_start()}</span> 函数手动开始会话之后，PHP 内部调用 read 回调函数来获取会话数据。        在调用 read 之前，PHP 会调用 open 回调函数。       </p>       <p class="para">        read 回调返回的序列化之后的字符串格式必须与 <code class="parameter">write</code> 回调函数保存数据时的格式完全一致。        PHP 会自动反序列化返回的字符串并填充 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> 超级全局变量。        虽然数据看起来和 <span class="function">{@link serialize()}</span> 函数很相似，        但是需要提醒的是，它们是不同的。        请参考： <a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a>。       </p>      </dd>                 <dt> <code class="parameter">write(string $sessionId, string $data)</code></dt>       <dd>        <p class="para">        在会话保存数据时会调用 <code class="parameter">write</code> 回调函数。        此回调函数接收当前会话 ID 以及 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> 中数据序列化之后的字符串作为参数。        序列化会话数据的过程由 PHP 根据 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a> 设定值来完成。       </p>       <p class="para">        序列化后的数据将和会话 ID 关联在一起进行保存。        当调用 <code class="parameter">read</code> 回调函数获取数据时，所返回的数据必须要和        传入 <code class="parameter">write</code> 回调函数的数据完全保持一致。       </p>       <p class="para">        PHP 会在脚本执行完毕或调用 <span class="function">{@link session_write_close()}</span> 函数之后调用此回调函数。        注意，在调用完此回调函数之后，PHP 内部会调用 <code class="parameter">close</code> 回调函数。        <blockquote class="note"><p><strong class="note">Note</strong>:          <p class="para">          PHP 会在输出流写入完毕并且关闭之后          才调用 write 回调函数，          所以在 write 回调函数中的调试信息不会输出到浏览器中。          如果需要在 write 回调函数中使用调试输出，          建议将调试输出写入到文件。         </p>        </p></blockquote>       </p>      </dd>                 <dt> <code class="parameter">destroy($sessionId)</code></dt>       <dd>        <p class="para">        当调用 <span class="function">{@link session_destroy()}</span> 函数，        或者调用  <span class="function">{@link session_regenerate_id()}</span> 函数并且设置 destroy 参数为 <strong><code>TRUE</code></strong> 时，        会调用此回调函数。此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。       </p>      </dd>                 <dt> <code class="parameter">gc($lifetime)</code></dt>       <dd>        <p class="para">        为了清理会话中的旧数据，PHP 会不时的调用垃圾收集回调函数。        调用周期由 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.gc-probability" class="link">session.gc_probability</a>         和 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.gc-divisor" class="link">session.gc_divisor</a> 参数控制。        传入到此回调函数的 lifetime 参数由 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.gc-maxlifetime" class="link">session.gc_maxlifetime</a> 设置。        此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。       </p>      </dd>                    <dt> <code class="parameter">create_sid()</code></dt>       <dd>        <p class="para">        当需要新的会话 ID 时被调用的回调函数。        回调函数被调用时无传入参数，        其返回值应该是一个字符串格式的、有效的会话 ID。       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-set-save-handler-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-set-save-handler-examples">   <h3 class="title">范例</h3>   <p class="para">    <div class="example" id="example-5833">     <p><strong>Example #1       自定义会话管理器： 完整代码请参见 <a href="http://php.net/manual/zh/class.sessionhandlerinterface.php" class="classname">SessionHandlerInterface</a>。     </strong></p>     <div class="example-contents"><p>      下列代码适用于 PHP 5.4.0 及以上版本。      这里仅列出了调用方式，完整代码请参见 <a href="http://php.net/manual/zh/class.sessionhandlerinterface.php" class="classname">SessionHandlerInterface</a>。     </p></div>     <div class="example-contents"><p>      这里使用了 <span class="function"><strong>session_set_save_handler()</strong></span> 函数的 OOP 原型      并且使用第二个参数来注册 shutdown 函数。      当将对象注册为会话保存管理器时，建议使用这种方式。     </p></div>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #9876AA">MySessionHandler&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #9876AA">SessionHandlerInterface<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;在这里实现接口<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #9876AA">$handler&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #9876AA">MySessionHandler</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">session_set_save_handler</span><span style="color: #007700">(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;现在可以使用&nbsp;$_SESSION&nbsp;保存以及获取数据了</span> </span> </code></div>     </div>     </div>    <div class="example" id="example-5834">     <p><strong>Example #2 使用对象自定义会话保存管理器</strong></p>     <div class="example-contents"><p>      下列代码适用于 PHP 5.4.0 之前的版本。     </p></div>     <div class="example-contents"><p>      下例演示了基于文件的会话数据存储，      和 PHP 默认的  <code class="parameter">files</code> 存储器很相似。      通过对此示例代码进行扩展，      你可以很方便的实现使用数据库保存会话数据的功能。     </p></div>     <div class="example-contents"><p>      针对于 PHP 5.4.0 之前的版本，      通过调用 <span class="function">{@link register_shutdown_function()}</span> 函数      来注册 <span class="function">{@link session_write_close()}</span> 回调函数。      这也是我们建议的方式。     </p></div>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #9876AA">FileSessionHandler<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #9876AA">$savePath</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">open</span><span style="color: #007700">(</span><span style="color: #9876AA">$savePath</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">$sessionName</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">$savePath</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #9876AA">is_dir</span><span style="color: #007700">(</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">mkdir</span><span style="color: #007700">(</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">0777</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">close</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">read</span><span style="color: #007700">(</span><span style="color: #9876AA">$id</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(string)@</span><span style="color: #9876AA">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #DD0000">/sess_</span><span style="color: #9876AA">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">write</span><span style="color: #007700">(</span><span style="color: #9876AA">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">$data</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #DD0000">/sess_</span><span style="color: #9876AA">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">$data</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #9876AA">false&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #9876AA">false&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">destroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$id</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #DD0000">/sess_</span><span style="color: #9876AA">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #9876AA">file_exists</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">unlink</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">gc</span><span style="color: #007700">(</span><span style="color: #9876AA">$maxlifetime</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #9876AA">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #DD0000">/sess_*"</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #9876AA">$file</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #9876AA">filemtime</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">)&nbsp;+&nbsp;</span><span style="color: #9876AA">$maxlifetime&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">()&nbsp;&amp;&amp;&nbsp;</span><span style="color: #9876AA">file_exists</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">unlink</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #9876AA">$handler&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #9876AA">FileSessionHandler</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">session_set_save_handler</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'open'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'close'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'read'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'write'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'destroy'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'gc'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br /></span><span style="color: #FF8000">//&nbsp;下面这行代码可以防止使用对象作为会话保存管理器时可能引发的非预期行为<br /></span><span style="color: #9876AA">register_shutdown_function</span><span style="color: #007700">(</span><span style="color: #DD0000">'session_write_close'</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">//&nbsp;现在可以使用&nbsp;$_SESSION&nbsp;保存以及获取数据了</span> </span> </code></div>     </div>     </div>   </p>  </div>    <div class="refsect1 notes" id="refsect1-function.session-set-save-handler-notes">   <h3 class="title">注释</h3>   <div class="warning"><strong class="warning">Warning</strong>    <p class="para">     在脚本执行完毕之后，PHP 内部会清除对象，     所以有可能不调用 <code class="parameter">write</code> 和 <code class="parameter">close</code> 回调函数。     这样可能会引发非预期的行为，所以当使用对象作为会话保存管理器时，     需要通过注册 shutdown 回调函数来规避风险。     通常，你可以通过调用 <span class="function">{@link register_shutdown_function()}</span> 函数     来注册 <code class="parameter">&#039;session_write_close&#039;</code> 回调函数。    </p>    <p class="para">     在 PHP 5.4.0 中，可以调用 <span class="function">{@link session_register_shutdown()}</span>      函数来注册 shutdown 回调函数。     如果你使用 <span class="function"><strong>session_set_save_handler()</strong></span> 的 OOP 原型，     那么仅需设置 “register shutdown” 为 <strong><code>TRUE</code></strong> 即可。    </p>   </div>   <div class="warning"><strong class="warning">Warning</strong>    <p class="para">     在 PHP 5.0.5 中，在对象销毁之后才会调用     <code class="parameter">write</code> 和 <code class="parameter">close</code> 回调函数，     所以，在这两个回调函数中不可以使用对象，也不可以抛出异常。     如果在函数中抛出异常，PHP 既不会捕获它，也不会跟踪它，     这样会导致程序异常终止。     但是对象析构函数可以使用会话。    </p>    <p class="para">     可以在析构函数中调用  <span class="function">{@link session_write_close()}</span>       函数来解决这个问题。     但是注册 shutdown 回调函数才是更加可靠的做法。    </p>   </div>   <div class="warning"><strong class="warning">Warning</strong>    <p class="para">     如果会话在脚本结束后关闭，对于某些 SAPI 而言，当前工作目录可能已经被改变。     可以调用 <span class="function">{@link session_write_close()}</span>      函数在脚本执行结束之前关闭会话。    </p>   </div>  </div>    <div class="refsect1 changelog" id="refsect1-function.session-set-save-handler-changelog">   <h3 class="title">更新日志</h3>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>      </thead>      <tbody class="tbody">      <tr>       <td>7.0.0</td>       <td>        新增可选参数 <code class="parameter">validate_sid</code> 和        参数 <code class="parameter">update_timestamp</code>。       </td>      </tr>       <tr>       <td>5.5.1</td>       <td>        加入可选参数 <code class="parameter">create_sid</code>。       </td>      </tr>       <tr>       <td>5.4.0</td>       <td>        加入 <span class="interfacename"><a href="http://php.net/manual/zh/class.sessionhandlerinterface.php" class="interfacename">SessionHandlerInterface</a></span> 接口以及        <a href="http://php.net/manual/zh/class.sessionhandler.php" class="classname">SessionHandler</a> 类，以方便用户实现自定义的会话保存管理器。       </td>      </tr>      </tbody>       </table>   </div>    <div class="refsect1 seealso" id="refsect1-function.session-set-save-handler-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.save-handler" class="link">session.save_handler</a>      配置指示     </li>     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a>      配置指示     </li>     <li class="member"><span class="function">{@link register_shutdown_function()} - 注册一个会在php中止时执行的函数</span></li>     <li class="member"><span class="function">{@link session_register_shutdown()} - 关闭会话</span> PHP 5.4.0+</li>     <li class="member">      完整的实现请参考       <a href="http://php.net/manual/zh/https://github.com/php/php-src/blob/master/ext/session/tests/save_handler.inc" class="link external">&raquo;&nbsp;save_handler.inc</a>。     </li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool true on success or false on failure.*/
function session_set_save_handler ($open, $close, $read, $write, $destroy, $gc, $create_sid, $validate_sid,  $update_timestamp) {}

/**
*<div id="function.session-set-save-handler" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_set_save_handler</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_set_save_handler</span> &mdash; <span class="dc-title">设置用户自定义会话存储函数</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-set-save-handler-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_set_save_handler</strong></span>     ( <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$open</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$close</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$read</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$write</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$destroy</code></span>    , <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$gc</code></span>    [, <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$create_sid</code></span>    [, <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$validate_sid</code></span>    [, <span class="methodparam"><span class="type"><a href="http://php.net/manual/zh/language.types.callable.php" class="type callable">callable</a></span> <code class="parameter">$update_timestamp</code></span>   ]]] )</div>    <p class="para rdfs-comment">    自 PHP 5.4 开始，可以使用下面的方式来注册自定义会话存储函数：   </p>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_set_save_handler</strong></span>     ( <span class="methodparam"><span class="type">object</span> <code class="parameter">$sessionhandler</code></span>    [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$register_shutdown</code><span class="initializer"> = <strong><code>TRUE</code></strong></span></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_set_save_handler()</strong></span> 设置用户自定义    会话存储函数。    如果想使用 PHP 内置的会话存储机制之外的方式，    可以使用本函数。    例如，可以自定义会话存储函数来将会话数据存储到数据库。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-set-save-handler-parameters">   <h3 class="title">参数</h3>   <p class="para">    本函数有 2 种原型：    <dl>            <dt> <code class="parameter">sessionhandler</code></dt>       <dd>        <p class="para">        实现了        <span class="interfacename"><a href="http://php.net/manual/zh/class.sessionhandlerinterface.php" class="interfacename">SessionHandlerInterface</a></span>，        <span class="interfacename"><strong class="interfacename">SessionIdInterface</strong></span> 和/或        <span class="interfacename"><strong class="interfacename">SessionUpdateTimestampHandlerInterface</strong></span>        接口的对象，        例如 <a href="http://php.net/manual/zh/class.sessionhandler.php" class="classname">SessionHandler</a>。        自 PHP 5.4 之后可以使用。       </p>      </dd>                 <dt> <code class="parameter">register_shutdown</code></dt>       <dd>        <p class="para">        将函数 <span class="function">{@link session_write_close()}</span> 注册为        <span class="function">{@link register_shutdown_function()}</span> 函数。       </p>      </dd>          </dl>      或者     <dl>            <dt> <code class="parameter">open(string $savePath, string $sessionName)</code></dt>       <dd>        <p class="para">        open 回调函数类似于类的构造函数，        在会话打开的时候会被调用。        这是自动开始会话或者通过调用 <span class="function">{@link session_start()}</span> 手动开始会话        之后第一个被调用的回调函数。        此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。       </p>      </dd>                 <dt> <code class="parameter">close()</code></dt>       <dd>        <p class="para">        close 回调函数类似于类的析构函数。        在 write 回调函数调用之后调用。        当调用 <span class="function">{@link session_write_close()}</span> 函数之后，也会调用 close 回调函数。        此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。       </p>      </dd>                 <dt> <code class="parameter">read(string $sessionId)</code></dt>       <dd>        <p class="para">        如果会话中有数据，read 回调函数必须返回将会话数据编码（序列化）后的字符串。        如果会话中没有数据，read 回调函数返回空字符串。       </p>       <p class="para">        在自动开始会话或者通过调用        <span class="function">{@link session_start()}</span> 函数手动开始会话之后，PHP 内部调用 read 回调函数来获取会话数据。        在调用 read 之前，PHP 会调用 open 回调函数。       </p>       <p class="para">        read 回调返回的序列化之后的字符串格式必须与 <code class="parameter">write</code> 回调函数保存数据时的格式完全一致。        PHP 会自动反序列化返回的字符串并填充 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> 超级全局变量。        虽然数据看起来和 <span class="function">{@link serialize()}</span> 函数很相似，        但是需要提醒的是，它们是不同的。        请参考： <a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a>。       </p>      </dd>                 <dt> <code class="parameter">write(string $sessionId, string $data)</code></dt>       <dd>        <p class="para">        在会话保存数据时会调用 <code class="parameter">write</code> 回调函数。        此回调函数接收当前会话 ID 以及 <var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var> 中数据序列化之后的字符串作为参数。        序列化会话数据的过程由 PHP 根据 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a> 设定值来完成。       </p>       <p class="para">        序列化后的数据将和会话 ID 关联在一起进行保存。        当调用 <code class="parameter">read</code> 回调函数获取数据时，所返回的数据必须要和        传入 <code class="parameter">write</code> 回调函数的数据完全保持一致。       </p>       <p class="para">        PHP 会在脚本执行完毕或调用 <span class="function">{@link session_write_close()}</span> 函数之后调用此回调函数。        注意，在调用完此回调函数之后，PHP 内部会调用 <code class="parameter">close</code> 回调函数。        <blockquote class="note"><p><strong class="note">Note</strong>:          <p class="para">          PHP 会在输出流写入完毕并且关闭之后          才调用 write 回调函数，          所以在 write 回调函数中的调试信息不会输出到浏览器中。          如果需要在 write 回调函数中使用调试输出，          建议将调试输出写入到文件。         </p>        </p></blockquote>       </p>      </dd>                 <dt> <code class="parameter">destroy($sessionId)</code></dt>       <dd>        <p class="para">        当调用 <span class="function">{@link session_destroy()}</span> 函数，        或者调用  <span class="function">{@link session_regenerate_id()}</span> 函数并且设置 destroy 参数为 <strong><code>TRUE</code></strong> 时，        会调用此回调函数。此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。       </p>      </dd>                 <dt> <code class="parameter">gc($lifetime)</code></dt>       <dd>        <p class="para">        为了清理会话中的旧数据，PHP 会不时的调用垃圾收集回调函数。        调用周期由 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.gc-probability" class="link">session.gc_probability</a>         和 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.gc-divisor" class="link">session.gc_divisor</a> 参数控制。        传入到此回调函数的 lifetime 参数由 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.gc-maxlifetime" class="link">session.gc_maxlifetime</a> 设置。        此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。       </p>      </dd>                    <dt> <code class="parameter">create_sid()</code></dt>       <dd>        <p class="para">        当需要新的会话 ID 时被调用的回调函数。        回调函数被调用时无传入参数，        其返回值应该是一个字符串格式的、有效的会话 ID。       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-set-save-handler-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-set-save-handler-examples">   <h3 class="title">范例</h3>   <p class="para">    <div class="example" id="example-5833">     <p><strong>Example #1       自定义会话管理器： 完整代码请参见 <a href="http://php.net/manual/zh/class.sessionhandlerinterface.php" class="classname">SessionHandlerInterface</a>。     </strong></p>     <div class="example-contents"><p>      下列代码适用于 PHP 5.4.0 及以上版本。      这里仅列出了调用方式，完整代码请参见 <a href="http://php.net/manual/zh/class.sessionhandlerinterface.php" class="classname">SessionHandlerInterface</a>。     </p></div>     <div class="example-contents"><p>      这里使用了 <span class="function"><strong>session_set_save_handler()</strong></span> 函数的 OOP 原型      并且使用第二个参数来注册 shutdown 函数。      当将对象注册为会话保存管理器时，建议使用这种方式。     </p></div>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #9876AA">MySessionHandler&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #9876AA">SessionHandlerInterface<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;在这里实现接口<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #9876AA">$handler&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #9876AA">MySessionHandler</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">session_set_save_handler</span><span style="color: #007700">(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;现在可以使用&nbsp;$_SESSION&nbsp;保存以及获取数据了</span> </span> </code></div>     </div>     </div>    <div class="example" id="example-5834">     <p><strong>Example #2 使用对象自定义会话保存管理器</strong></p>     <div class="example-contents"><p>      下列代码适用于 PHP 5.4.0 之前的版本。     </p></div>     <div class="example-contents"><p>      下例演示了基于文件的会话数据存储，      和 PHP 默认的  <code class="parameter">files</code> 存储器很相似。      通过对此示例代码进行扩展，      你可以很方便的实现使用数据库保存会话数据的功能。     </p></div>     <div class="example-contents"><p>      针对于 PHP 5.4.0 之前的版本，      通过调用 <span class="function">{@link register_shutdown_function()}</span> 函数      来注册 <span class="function">{@link session_write_close()}</span> 回调函数。      这也是我们建议的方式。     </p></div>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #9876AA">FileSessionHandler<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #9876AA">$savePath</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">open</span><span style="color: #007700">(</span><span style="color: #9876AA">$savePath</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">$sessionName</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">$savePath</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #9876AA">is_dir</span><span style="color: #007700">(</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">mkdir</span><span style="color: #007700">(</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">0777</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">close</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">read</span><span style="color: #007700">(</span><span style="color: #9876AA">$id</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(string)@</span><span style="color: #9876AA">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #DD0000">/sess_</span><span style="color: #9876AA">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">write</span><span style="color: #007700">(</span><span style="color: #9876AA">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">$data</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #DD0000">/sess_</span><span style="color: #9876AA">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">,&nbsp;</span><span style="color: #9876AA">$data</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #9876AA">false&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #9876AA">false&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">destroy</span><span style="color: #007700">(</span><span style="color: #9876AA">$id</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #DD0000">/sess_</span><span style="color: #9876AA">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #9876AA">file_exists</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">unlink</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #9876AA">gc</span><span style="color: #007700">(</span><span style="color: #9876AA">$maxlifetime</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #9876AA">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #9876AA">$this</span><span style="color: #007700">-&gt;</span><span style="color: #9876AA">savePath</span><span style="color: #DD0000">/sess_*"</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #9876AA">$file</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #9876AA">filemtime</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">)&nbsp;+&nbsp;</span><span style="color: #9876AA">$maxlifetime&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #9876AA">time</span><span style="color: #007700">()&nbsp;&amp;&amp;&nbsp;</span><span style="color: #9876AA">file_exists</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #9876AA">unlink</span><span style="color: #007700">(</span><span style="color: #9876AA">$file</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #9876AA">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #9876AA">$handler&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #9876AA">FileSessionHandler</span><span style="color: #007700">();<br /></span><span style="color: #9876AA">session_set_save_handler</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'open'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'close'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'read'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'write'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'destroy'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #9876AA">$handler</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'gc'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br /></span><span style="color: #FF8000">//&nbsp;下面这行代码可以防止使用对象作为会话保存管理器时可能引发的非预期行为<br /></span><span style="color: #9876AA">register_shutdown_function</span><span style="color: #007700">(</span><span style="color: #DD0000">'session_write_close'</span><span style="color: #007700">);<br /><br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">//&nbsp;现在可以使用&nbsp;$_SESSION&nbsp;保存以及获取数据了</span> </span> </code></div>     </div>     </div>   </p>  </div>    <div class="refsect1 notes" id="refsect1-function.session-set-save-handler-notes">   <h3 class="title">注释</h3>   <div class="warning"><strong class="warning">Warning</strong>    <p class="para">     在脚本执行完毕之后，PHP 内部会清除对象，     所以有可能不调用 <code class="parameter">write</code> 和 <code class="parameter">close</code> 回调函数。     这样可能会引发非预期的行为，所以当使用对象作为会话保存管理器时，     需要通过注册 shutdown 回调函数来规避风险。     通常，你可以通过调用 <span class="function">{@link register_shutdown_function()}</span> 函数     来注册 <code class="parameter">&#039;session_write_close&#039;</code> 回调函数。    </p>    <p class="para">     在 PHP 5.4.0 中，可以调用 <span class="function">{@link session_register_shutdown()}</span>      函数来注册 shutdown 回调函数。     如果你使用 <span class="function"><strong>session_set_save_handler()</strong></span> 的 OOP 原型，     那么仅需设置 “register shutdown” 为 <strong><code>TRUE</code></strong> 即可。    </p>   </div>   <div class="warning"><strong class="warning">Warning</strong>    <p class="para">     在 PHP 5.0.5 中，在对象销毁之后才会调用     <code class="parameter">write</code> 和 <code class="parameter">close</code> 回调函数，     所以，在这两个回调函数中不可以使用对象，也不可以抛出异常。     如果在函数中抛出异常，PHP 既不会捕获它，也不会跟踪它，     这样会导致程序异常终止。     但是对象析构函数可以使用会话。    </p>    <p class="para">     可以在析构函数中调用  <span class="function">{@link session_write_close()}</span>       函数来解决这个问题。     但是注册 shutdown 回调函数才是更加可靠的做法。    </p>   </div>   <div class="warning"><strong class="warning">Warning</strong>    <p class="para">     如果会话在脚本结束后关闭，对于某些 SAPI 而言，当前工作目录可能已经被改变。     可以调用 <span class="function">{@link session_write_close()}</span>      函数在脚本执行结束之前关闭会话。    </p>   </div>  </div>    <div class="refsect1 changelog" id="refsect1-function.session-set-save-handler-changelog">   <h3 class="title">更新日志</h3>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>      </thead>      <tbody class="tbody">      <tr>       <td>7.0.0</td>       <td>        新增可选参数 <code class="parameter">validate_sid</code> 和        参数 <code class="parameter">update_timestamp</code>。       </td>      </tr>       <tr>       <td>5.5.1</td>       <td>        加入可选参数 <code class="parameter">create_sid</code>。       </td>      </tr>       <tr>       <td>5.4.0</td>       <td>        加入 <span class="interfacename"><a href="http://php.net/manual/zh/class.sessionhandlerinterface.php" class="interfacename">SessionHandlerInterface</a></span> 接口以及        <a href="http://php.net/manual/zh/class.sessionhandler.php" class="classname">SessionHandler</a> 类，以方便用户实现自定义的会话保存管理器。       </td>      </tr>      </tbody>       </table>   </div>    <div class="refsect1 seealso" id="refsect1-function.session-set-save-handler-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.save-handler" class="link">session.save_handler</a>      配置指示     </li>     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.serialize-handler" class="link">session.serialize_handler</a>      配置指示     </li>     <li class="member"><span class="function">{@link register_shutdown_function()} - 注册一个会在php中止时执行的函数</span></li>     <li class="member"><span class="function">{@link session_register_shutdown()} - 关闭会话</span> PHP 5.4.0+</li>     <li class="member">      完整的实现请参考       <a href="http://php.net/manual/zh/https://github.com/php/php-src/blob/master/ext/session/tests/save_handler.inc" class="link external">&raquo;&nbsp;save_handler.inc</a>。     </li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool true on success or false on failure.*/
function session_set_save_handler (SessionHandlerInterface $session_handler, $register_shutdown = true) {}

/**
*<div id="function.session-cache-limiter" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_cache_limiter</h1>   <p class="verinfo">(PHP 4 &gt;= 4.0.3, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_cache_limiter</span> &mdash; <span class="dc-title">读取/设置缓存限制器</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-cache-limiter-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">string</span> <span class="methodname"><strong>session_cache_limiter</strong></span>     ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$cache_limiter</code></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_cache_limiter()</strong></span> 返回当前缓存限制器的名称。   </p>   <p class="para">     缓存限制器定义了向客户端发送的 HTTP 响应头中的缓存控制策略。     客户端或者代理服务器通过检测这个响应头信息来     确定对于页面内容的缓存规则。     设置缓存限制器为 <em>nocache</em> 会进制客户端或者代理服务器缓存内容，     <em>public</em> 表示允许客户端或代理服务器缓存内容，     <em>private</em> 表示允许客户端缓存，     但是不允许代理服务器缓存内容。   </p>   <p class="para">    在 <em>private</em> 模式下， 包括 <span class="productname">Mozilla</span>     在内的一些浏览器可能无法正确处理 Expire 响应头，    通过使用 <em>private_no_expire</em> 模式可以解决这个问题：在这种模式下，    不会向客户端发送 <em>Expire</em> 响应头。   </p>   <p class="para">     设置为  <em>&#039;&#039;</em> 可以关闭     自动发送缓存策略响应头的功能。   </p>   <p class="para">     请求开始的时候，缓存限制器会被重置为默认值，并且存储在     <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cache-limiter" class="link">session.cache_limiter</a>      配置项中。     因此，如果要设置缓存限制器，对于每个请求，     都需要在调用 <span class="function">{@link session_start()}</span> 函数之前，     调用 <span class="function"><strong>session_cache_limiter()</strong></span> 函数来进行设置。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-cache-limiter-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">cache_limiter</code></dt>       <dd>        <p class="para">        如果指定了 <code class="parameter">cache_limiter</code> 参数，        将使用指定值作为缓存限制器的值。       </p>       <table class="doctable table">        <caption><strong>可选的值</strong></caption>                 <thead>          <tr>           <th>值</th>           <th>发送的响应头</th>          </tr>          </thead>          <tbody class="tbody">          <tr>           <td><em>public</em></td>           <td>            <div class="example-contents"> <div class="headercode"><pre class="headercode">Expires：（根据 session.cache_expire 的设定计算得出） Cache-Control： public, max-age=（根据 session.cache_expire 的设定计算得出） Last-Modified：（会话最后保存时间）</pre> </div>            </div>            </td>          </tr>           <tr>           <td><em>private_no_expire</em></td>           <td>            <div class="example-contents"> <div class="headercode"><pre class="headercode">Cache-Control: private, max-age=（根据 session.cache_expire 的设定计算得出）, pre-check=（根据 session.cache_expire 的设定计算得出） Last-Modified: （会话最后保存时间）</pre> </div>            </div>            </td>          </tr>           <tr>           <td><em>private</em></td>           <td>            <div class="example-contents"> <div class="headercode"><pre class="headercode">Expires: Thu, 19 Nov 1981 08:52:00 GMT Cache-Control: private, max-age=（根据 session.cache_expire 的设定计算得出）, pre-check=（根据 session.cache_expire 的设定计算得出） Last-Modified: （会话最后保存时间）</pre> </div>            </div>            </td>          </tr>           <tr>           <td><em>nocache</em></td>           <td>            <div class="example-contents"> <div class="headercode"><pre class="headercode">Expires: Thu, 19 Nov 1981 08:52:00 GMT Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0 Pragma: no-cache</pre> </div>            </div>            </td>          </tr>          </tbody>               </table>       </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-cache-limiter-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    返回当前所用的缓存限制器名称。   </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-cache-limiter-examples">   <h3 class="title">范例</h3>   <p class="para">    <div class="example" id="example-5825">     <p><strong>Example #1 <span class="function"><strong>session_cache_limiter()</strong></span> 示例</strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;设置缓存限制器为&nbsp;'private'&nbsp;<br /><br /></span><span style="color: #9876AA">session_cache_limiter</span><span style="color: #007700">(</span><span style="color: #DD0000">'private'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$cache_limiter&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">session_cache_limiter</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;cache&nbsp;limiter&nbsp;is&nbsp;now&nbsp;set&nbsp;to&nbsp;</span><span style="color: #9876AA">$cache_limiter</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-cache-limiter-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.cache-limiter" class="link">session.cache_limiter</a></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return string the name of the current cache limiter.*/
function session_cache_limiter ($cache_limiter = null) {}

/**
*<div id="function.session-cache-expire" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_cache_expire</h1>   <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_cache_expire</span> &mdash; <span class="dc-title">返回当前缓存的到期时间</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-cache-expire-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">int</span> <span class="methodname"><strong>session_cache_expire</strong></span>     ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$new_cache_expire</code></span>   ] )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_cache_expire()</strong></span> 返回    <em>session.cache_expire</em> 的设定值。    </p>   <p class="para">    请求开始的时候，缓存到期时间会被重置为 180，并且保存在    <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cache-expire" class="link">session.cache_expire</a> 配置项中。    因此，针对每个请求，需要在 <span class="function">{@link session_start()}</span> 函数调用之前    调用 <span class="function"><strong>session_cache_expire()</strong></span> 来设置缓存到期时间。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-cache-expire-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">new_cache_expire</code></dt>       <dd>        <p class="para">        如果给定 <code class="parameter">new_cache_expire</code> ，就使用        <code class="parameter">new_cache_expire</code> 的值设置当前缓存到期时间。       </p>       <p class="para">        <blockquote class="note"><p><strong class="note">Note</strong>:          <span class="simpara">          仅在 <em>session.cache_limiter</em> 的设置值          <em class="emphasis">不是</em> <em>nocache</em> 的时候，          才可以设置 <code class="parameter">new_cache_expire</code> 参数。         </span>        </p></blockquote>       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-cache-expire-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    返回 <em>session.cache_expire</em> 的当前设置值，    以分钟为单位，默认值是 180 （分钟）。   </p>  </div>    <div class="refsect1 examples" id="refsect1-function.session-cache-expire-examples">   <h3 class="title">范例</h3>   <p class="para">    <div class="example" id="example-5824">     <p><strong>Example #1 <span class="function"><strong>session_cache_expire()</strong></span> 示例</strong></p>     <div class="example-contents"> <div class="phpcode"><code><span style="color: #000000"> <span style="color: #9876AA">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;设置缓存限制为&nbsp;“private”&nbsp;<br /><br /></span><span style="color: #9876AA">session_cache_limiter</span><span style="color: #007700">(</span><span style="color: #DD0000">'private'</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$cache_limiter&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">session_cache_limiter</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;设置缓存过期时间为&nbsp;30&nbsp;分钟&nbsp;<br /></span><span style="color: #9876AA">session_cache_expire</span><span style="color: #007700">(</span><span style="color: #9876AA">30</span><span style="color: #007700">);<br /></span><span style="color: #9876AA">$cache_expire&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #9876AA">session_cache_expire</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;开始会话&nbsp;<br /><br /></span><span style="color: #9876AA">session_start</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;cache&nbsp;limiter&nbsp;is&nbsp;now&nbsp;set&nbsp;to&nbsp;</span><span style="color: #9876AA">$cache_limiter</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;cached&nbsp;session&nbsp;pages&nbsp;expire&nbsp;after&nbsp;</span><span style="color: #9876AA">$cache_expire</span><span style="color: #DD0000">&nbsp;minutes"</span><span style="color: #007700">;<br /></span><span style="color: #9876AA">?&gt;</span> </span> </code></div>     </div>     </div>   </p>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-cache-expire-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.cache-expire" class="link">session.cache_expire</a></li>     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.cache-limiter" class="link">session.cache_limiter</a></li>     <li class="member"><span class="function">{@link session_cache_limiter()} - 读取/设置缓存限制器</span></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return int the current setting of session.cache_expire.*/
function session_cache_expire ($new_cache_expire = null) {}

/**
*<div id="function.session-set-cookie-params" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_set_cookie_params</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_set_cookie_params</span> &mdash; <span class="dc-title">设置会话 cookie 参数</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-set-cookie-params-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_set_cookie_params</strong></span>     ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$lifetime</code></span>    [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$path</code></span>    [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$domain</code></span>    [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$secure</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>    [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$httponly</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>   ]]]] )</div>    <p class="para rdfs-comment">    Cookie 参数可以在 <var class="filename">php.ini</var> 文件中定义，本函数仅在当前脚本执行过程中有效。    因此，如果要通过函数修改 cookie 参数，需要对每个请求都要    在调用 <span class="function">{@link session_start()}</span> 函数之前调用    <span class="function"><strong>session_set_cookie_params()</strong></span> 函数。   </p>   <p class="para">    本函数会修改运行期 ini 设置值，    可以通过 <span class="function">{@link ini_get()}</span> 函数获取这些值。   </p>  </div>    <div class="refsect1 parameters" id="refsect1-function.session-set-cookie-params-parameters">   <h3 class="title">参数</h3>   <p class="para">    <dl>            <dt> <code class="parameter">lifetime</code></dt>       <dd>        <p class="para">        Cookie 的 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-lifetime" class="link">生命周期</a>，以秒为单位。       </p>      </dd>                 <dt> <code class="parameter">path</code></dt>       <dd>        <p class="para">        此 cookie 的有效 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-path" class="link">路径</a>。 on the domain where        设置为“/”表示对于本域上所有的路径此 cookie 都可用。       </p>      </dd>                 <dt> <code class="parameter">domain</code></dt>       <dd>        <p class="para">        Cookie 的作用 <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-domain" class="link">域</a>。        例如：“www.php.net”。        如果要让 cookie 在所有的子域中都可用，此参数必须以点（.）开头，例如：“.php.net”。       </p>      </dd>                 <dt> <code class="parameter">secure</code></dt>       <dd>        <p class="para">        设置为 <strong><code>TRUE</code></strong> 表示 cookie 仅在使用        <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-secure" class="link">安全</a> 链接时可用。       </p>      </dd>                 <dt> <code class="parameter">httponly</code></dt>       <dd>        <p class="para">        设置为 <strong><code>TRUE</code></strong> 表示 PHP 发送 cookie 的时候会使用        <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-httponly" class="link">httponly</a>        标记。       </p>      </dd>          </dl>    </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-set-cookie-params-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 changelog" id="refsect1-function.session-set-cookie-params-changelog">   <h3 class="title">更新日志</h3>   <p class="para">    <table class="doctable informaltable">           <thead>       <tr>        <th>版本</th>        <th>说明</th>       </tr>       </thead>       <tbody class="tbody">       <tr>        <td>7.2.0</td>        <td>         成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。 之前版本中是返回 <span class="type"><span class="type void">void</span></span> 的。        </td>       </tr>        <tr>        <td>5.2.0</td>        <td>         加入 <code class="parameter">httponly</code> 参数。        </td>       </tr>       </tbody>         </table>    </p>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-set-cookie-params-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-lifetime" class="link">session.cookie_lifetime</a>     </li>     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-path" class="link">session.cookie_path</a>     </li>     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-domain" class="link">session.cookie_domain</a>     </li>     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-secure" class="link">session.cookie_secure</a>     </li>     <li class="member">      <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-httponly" class="link">session.cookie_httponly</a>     </li>     <li class="member"><span class="function">{@link session_get_cookie_params()} - 获取会话 cookie 参数</span></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return void*/
function session_set_cookie_params ($lifetime, $path = null, $domain = null, $secure = false, $httponly = false) {}

/**
*<div id="function.session-get-cookie-params" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_get_cookie_params</h1>   <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_get_cookie_params</span> &mdash; <span class="dc-title">获取会话 cookie 参数</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-get-cookie-params-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">array</span> <span class="methodname"><strong>session_get_cookie_params</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="para rdfs-comment">    获取会话 cookie 的参数。   </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-get-cookie-params-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    返回一个包含当前会话 cookie 信息的数组：    <ul class="itemizedlist">     <li class="listitem">      <span class="simpara">       <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-lifetime" class="link">&quot;lifetime&quot;</a> - cookie 的生命周期，以秒为单位。      </span>     </li>     <li class="listitem">      <span class="simpara">       <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-path" class="link">&quot;path&quot;</a> -  cookie 的访问路径。      </span>     </li>     <li class="listitem">      <span class="simpara">       <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-domain" class="link">&quot;domain&quot;</a> -  cookie 的域。      </span>     </li>     <li class="listitem">      <span class="simpara">       <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-secure" class="link">&quot;secure&quot;</a> -  仅在使用安全连接时发送 cookie。      </span>     </li>     <li class="listitem">      <span class="simpara">       <a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-httponly" class="link">&quot;httponly&quot;</a> - 只能通过 http 协议访问 cookie      </span>     </li>    </ul>   </p>  </div>    <div class="refsect1 changelog" id="refsect1-function.session-get-cookie-params-changelog">   <h3 class="title">更新日志</h3>   <p class="para">    <table class="doctable informaltable">           <thead>       <tr>        <th>版本</th>        <th>说明</th>       </tr>       </thead>       <tbody class="tbody">       <tr>        <td>5.2.0</td>        <td>         在返回数组中加入 “httponly”。        </td>       </tr>        <tr>        <td>4.0.4</td>        <td>         在返回数组中加入 “secure”。        </td>       </tr>       </tbody>         </table>    </p>  </div>    <div class="refsect1 seealso" id="refsect1-function.session-get-cookie-params-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-lifetime" class="link">session.cookie_lifetime</a></li>     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-path" class="link">session.cookie_path</a></li>     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-domain" class="link">session.cookie_domain</a></li>     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-secure" class="link">session.cookie_secure</a></li>     <li class="member"><a href="http://php.net/manual/zh/session.configuration.php#ini.session.cookie-httponly" class="link">session.cookie_httponly</a></li>     <li class="member"><span class="function">{@link session_set_cookie_params()} - 设置会话 cookie 参数</span></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return array an array with the current session cookie information, the array*/
function session_get_cookie_params () {}

/**
*<div id="function.session-write-close" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_write_close</h1>   <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_write_close</span> &mdash; <span class="dc-title">Write session data and end session</span></p>   </div>    <div class="refsect1 description" id="refsect1-function.session-write-close-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_write_close</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="para rdfs-comment">    End the current session and store session data.   </p>   <p class="para">    Session data is usually stored after your script terminated without the    need to call <span class="function"><strong>session_write_close()</strong></span>, but as session data    is locked to prevent concurrent writes only one script may operate on a    session at any time. When using framesets together with sessions you will    experience the frames loading one by one due to this locking. You can    reduce the time needed to load all the frames by ending the session as    soon as all changes to session variables are done.   </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-write-close-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 changelog" id="refsect1-function.session-write-close-changelog">   <h3 class="title">更新日志</h3>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>      </thead>      <tbody class="tbody">      <tr>       <td>7.2.0</td>       <td>        The return type of this function is <span class="type"><a href="http://php.net/manual/zh/language.types.boolean.php" class="type bool">bool</a></span> now.        Formerly, it has been <span class="type"><span class="type void">void</span></span>.       </td>      </tr>      </tbody>       </table>   </div>    <div class="refsect1 seealso" id="refsect1-function.session-write-close-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member">      The <span class="function">{@link session_register_shutdown()} - 关闭会话</span>     </li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return void*/
function session_write_close () {}

/**
*<div id="function.session-commit" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_commit</h1>   <p class="verinfo">(PHP 4 &gt;= 4.4.0, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">session_commit</span> &mdash; <span class="dc-title"><span class="function">{@link session_write_close()}</span> 的别名</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-commit-description">   <h3 class="title">说明</h3>   <p class="simpara">    此函数是该函数的别名：<span class="function">{@link session_write_close()}</span>。   </p>  </div>  <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
*/
function session_commit () {}

/**
*<div id="function.session-status" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_status</h1>   <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7)</p><p class="refpurpose"><span class="refname">session_status</span> &mdash; <span class="dc-title">返回当前会话状态</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-status-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">int</span> <span class="methodname"><strong>session_status</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_status()</strong></span> 被用于返回当前会话状态。   </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-status-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    <ul class="itemizedlist">     <li class="listitem">      <span class="simpara"><strong><code>PHP_SESSION_DISABLED</code></strong> 会话是被禁用的。</span>     </li>     <li class="listitem">      <span class="simpara"><strong><code>PHP_SESSION_NONE</code></strong> 会话是启用的，但不存在当前会话。</span>     </li>     <li class="listitem">      <span class="simpara"><strong><code>PHP_SESSION_ACTIVE</code></strong> 会话是启用的，而且存在当前会话。</span>     </li>    </ul>   </p>  </div>     <div class="refsect1 seealso" id="refsect1-function.session-status-seealso">   <h3 class="title">参见</h3>   <ul class="simplelist">    <li class="member"><span class="function">{@link session_start()} - 启动新会话或者重用现有会话</span></li>   </ul>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return int <b>PHP_SESSION_DISABLED</b> if sessions are disabled.*/
function session_status () {}

/**
*<div id="function.session-abort" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_abort</h1>   <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7)</p><p class="refpurpose"><span class="refname">session_abort</span> &mdash; <span class="dc-title">Discard session array changes and finish session</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-abort-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_abort</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_abort()</strong></span> finishes session without saving    data. Thus the original values in session data are kept.   </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-abort-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 changelog" id="refsect1-function.session-abort-changelog">   <h3 class="title">更新日志</h3>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>      </thead>      <tbody class="tbody">      <tr>       <td>7.2.0</td>       <td>        The return type of this function is <span class="type"><a href="http://php.net/manual/zh/language.types.boolean.php" class="type bool">bool</a></span> now.        Formerly, it has been <span class="type"><span class="type void">void</span></span>.       </td>      </tr>      </tbody>       </table>   </div>    <div class="refsect1 seealso" id="refsect1-function.session-abort-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var></li>     <li class="member">      The <a href="http://php.net/manual/zh/session.configuration.php#ini.session.auto-start" class="link">session.auto_start</a>      configuration directive     </li>     <li class="member"><span class="function">{@link session_start()} - 启动新会话或者重用现有会话</span></li>     <li class="member"><span class="function">{@link session_reset()} - Re-initialize session array with original values</span></li>     <li class="member"><span class="function">{@link session_commit()} - session_write_close 的别名</span></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool true if a session was successfully reinitialized or false on failure.*/
function session_abort() {}

/**
*<div id="function.session-reset" class="refentry">  <div class="refnamediv">   <h1 class="refname">session_reset</h1>   <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7)</p><p class="refpurpose"><span class="refname">session_reset</span> &mdash; <span class="dc-title">Re-initialize session array with original values</span></p>   </div>   <div class="refsect1 description" id="refsect1-function.session-reset-description">   <h3 class="title">说明</h3>   <div class="methodsynopsis dc-description">    <span class="type">bool</span> <span class="methodname"><strong>session_reset</strong></span>     ( <span class="methodparam">void</span>    )</div>    <p class="para rdfs-comment">    <span class="function"><strong>session_reset()</strong></span> reinitializes a session with    original values stored in session storage. This function requires an active session and    discards changes in $_SESSION.   </p>  </div>    <div class="refsect1 returnvalues" id="refsect1-function.session-reset-returnvalues">   <h3 class="title">返回值</h3>   <p class="para">    成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。   </p>  </div>    <div class="refsect1 changelog" id="refsect1-function.session-reset-changelog">   <h3 class="title">更新日志</h3>   <table class="doctable informaltable">         <thead>      <tr>       <th>版本</th>       <th>说明</th>      </tr>      </thead>      <tbody class="tbody">      <tr>       <td>7.2.0</td>       <td>        The return type of this function is <span class="type"><a href="http://php.net/manual/zh/language.types.boolean.php" class="type bool">bool</a></span> now.        Formerly, it has been <span class="type"><span class="type void">void</span></span>.       </td>      </tr>      </tbody>       </table>   </div>    <div class="refsect1 seealso" id="refsect1-function.session-reset-seealso">   <h3 class="title">参见</h3>   <p class="para">    <ul class="simplelist">     <li class="member"><var class="varname"><var class="varname"><a href="http://php.net/manual/zh/reserved.variables.session.php" class="classname">$_SESSION</a></var></var></li>     <li class="member">      The <a href="http://php.net/manual/zh/session.configuration.php#ini.session.auto-start" class="link">session.auto_start</a>      configuration directive     </li>     <li class="member"><span class="function">{@link session_start()} - 启动新会话或者重用现有会话</span></li>     <li class="member"><span class="function">{@link session_abort()} - Discard session array changes and finish session</span></li>     <li class="member"><span class="function">{@link session_commit()} - session_write_close 的别名</span></li>    </ul>   </p>  </div>   <div class="up"><a href="http://php.net/manual/zh/ref.session.php">Session 函数</a></div></div>
 * @return bool true if a session was successfully reinitialized or false on failure.*/
function session_reset() {}

// End of session v.
?>
